(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{NKep:function(t,a,n){"use strict";var s=n("xAdR");n.n(s).a},rq9m:function(t,a,n){"use strict";n.r(a);var s=n("pLtp"),c=n.n(s),i=(n("eFdw"),n("b0p+")),e=n.n(i),o=n("20nU"),r=n.n(o),l={components:{},props:{},data:function(){return{}},computed:{},watch:{},methods:{init:function(){},click:function(){this.disabled||this.$emit("click")},goMainWebsite:function(){var t={cn:"zh_cn",zh:"zh_tw",en:"en"};r.a.isLive?location.href="https://mobile-faq.aqumon.com/".concat(t[this.$i18n.locale],"/faq?isApp=true"):location.href="https://test-toc.aqumon.com/".concat(t[this.$i18n.locale],"/faq?isApp=true")}},mounted:function(){var t=this;this.$nextTick(function(){t.init()})}},_=(n("NKep"),n("KHd+")),u=Object(_.a)(l,function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"footer"},[t._v("\n  © 2018 "+t._s(t.$t("footbar.magnum"))+" 粤 ICP 备 16084486 号"),n("span",{staticClass:"help",on:{click:t.goMainWebsite}},[t._v("帮助")])])},[],!1,null,"7361eb82",null).exports,v=n("3eXy"),d={components:{aqmNavbar:e.a.aqmNavbar,CommonCopyright:u,aqmTransactionList:e.a.aqmTransactionList,aqmBarchart:e.a.aqmBarchart,aqmAlert:e.a.aqmAlert},mixins:[],data:function(){return{transactionTitle:[{name:this.$t("portfolio.transfer_position"),cashType:"",amount:"2017年3月28日",date:""}],cashInData:[{name:"xxxxxxxxxxx",cashType:"HKD",amount:"10,000.00",date:""},{name:this.$t("portfolio.HK_10_3115_name"),cashType:"HKD",amount:"18,888.00",date:""},{name:this.$t("portfolio.HK_10_3140_name"),cashType:"HKD",amount:"10,000.00",date:""}],cashOutData:[{name:this.$t("portfolio.HK_10_3147_name"),cashType:"-HKD",amount:"8.88",date:""}],fee:[{name:this.$t("trade.charge"),cashType:"-HKD",amount:"89,000.00",date:""}],sum:[{name:this.$t("tradeDetail.portfolio_money"),cashType:"-HKD",amount:"89,000.00",date:""}],transaction:"",listTitle:"",type:{0:this.$t("m_invest_type.trade_type0"),1:this.$t("m_invest_type.trade_type1"),2:this.$t("m_invest_type.trade_type2")},alertCont:this.$t("m_invest_type.why_drift_desc_q"),alertTitle:this.$t("m_invest_type.why_drift"),showAlert:!1,alertName:this.$t("m_invest_type.why_drift_noted"),transactionDate:""}},computed:{},watch:{},methods:{init:function(){var n=this;this.transaction=JSON.parse(localStorage.getItem("transaction")),this.transactionDate=this.transaction.date.replace("-","年").replace("-","月"),this.transactionDate="".concat(this.transactionDate,"日"),this.listTitle=this.transaction.listTitle;var t=localStorage.getItem("p_id");console.log(this.transaction),v.a.getPortfolioHistory(t,this.transaction.timeStamp).then(function(t){if(0!==c()(t).length){var a=n.dealCompareData(t);console.log(a),setTimeout(function(){n.$refs.barChart&&n.$refs.barChart.startDraw(a)},500)}}).catch(function(t){n.handleError(t)})},goBack:function(){this.$router.go(-1)},dealCompareData:function(t){var s=this,i=0,e=0,o=[],n=[],r=[],a=c()(t).sort();return n=t[a[0]],r=t[a[1]],n.forEach(function(t){i+=t.value}),r.forEach(function(t){e+=t.value}),n.forEach(function(a){var t={};t.percentage=(a.value/i*100).toFixed(2),t.id=a.iuid,t.weight=a.weight,t.name=s.$t("portfolioUS.".concat(t.id,"_name"));var n=r.filter(function(t){return a.iuid==t.iuid});n.length?t.target=(n[0].value/e*100).toFixed(2):t.target=0,o.push(t)}),r.forEach(function(a){if(!n.filter(function(t){return t.iuid===a.iuid}).length){var t={};t.id=a.iuid,t.weight=a.weight,t.percentage=0,t.target=(a.value/e*100).toFixed(2),t.name=s.$t("portfolioUS.".concat(t.id,"_name")),o.push(t)}}),o},cancelGiveup:function(){this.showConfirm=!this.showConfirm},confirmAlert:function(){this.showAlert=!this.showAlert}},mounted:function(){var t=this;this.$nextTick(function(){t.init()})},beforeRouteEnter:function(t,a,n){n(function(t){})},beforeDestroy:function(){}},h=(n("weUh"),Object(_.a)(d,function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"transaction-history-page"},[n("aqmNavbar",{attrs:{showClose:!0,value:a.$t("trade.title"),showHelp:!0},on:{close:a.emitClose,goBack:a.goBack,goHelp:a.goFaq}}),a._v(" "),n("div",{staticClass:"h-right-container"},[n("div",{staticClass:"item-sort list"},[n("div",{staticClass:"item-container heading"},[n("h3",{staticClass:"list-title"},[a._v(a._s(a.listTitle))]),a._v(" "),n("h3",{staticClass:"date"},[a._v(a._s(a.transactionDate))])]),a._v(" "),n("div",{staticClass:"transactions"},a._l(a.transaction.saving,function(t){return n("div",{staticClass:"item-container transaction"},[n("div",[n("b",{staticClass:"txn"},[a._v(a._s(a.$t("tradeDetail.saving")))]),a._v(" "),n("br"),a._v(" "),n("span",{staticClass:"data"},[a._v(a._s(a.$t("tradeDetail.cash")))])]),a._v(" "),n("div",{staticClass:"amount"},[a._v(a._s(t.currency)+" "+a._s(a._f("formatMoney")(t.money)))])])}),0),a._v(" "),n("div",{staticClass:"transactions"},a._l(a.transaction.withdraw,function(t){return n("div",{staticClass:"item-container transaction"},[n("div",[n("b",{staticClass:"txn"},[a._v(a._s(a.$t("trade.type_4")))]),a._v(" "),n("br"),a._v(" "),n("span",{staticClass:"data"},[a._v(a._s(a.$t("tradeDetail.cash")))])]),a._v(" "),n("div",{staticClass:"amount"},[a._v(a._s(t.currency)+" "+a._s(a._f("formatMoney")(t.money)))])])}),0),a._v(" "),n("div",{staticClass:"transactions"},a._l(a.transaction.interest,function(t){return n("div",{staticClass:"item-container transaction"},[n("div",[n("b",{staticClass:"txn"},[a._v(a._s(a.$t("trade.interest")))]),a._v(" "),n("br"),a._v(" "),n("span",{staticClass:"data"},[a._v(a._s(a.$t("tradeDetail.cash")))])]),a._v(" "),n("div",{staticClass:"amount"},[a._v(a._s(t.currency)+" "+a._s(a._f("formatMoney")(t.money)))])])}),0),a._v(" "),n("div",{staticClass:"transactions"},[a.transaction.dividends&&0<a.transaction.dividends.length?n("div",{staticClass:"transactions-title"},[a._v(a._s(a.listTitle))]):a._e(),a._v(" "),a._l(a.transaction.dividends,function(t){return t.txn!==a.type[0]?n("div",{staticClass:"item-container transaction"},[n("span",{staticClass:"transaction-name"},[a._v(a._s(t.data))]),a._v(" "),n("span",{staticClass:"transaction-money"},[a._v(a._s(t.currency)+" "+a._s(a._f("formatMoney")(t.money)))])]):a._e()}),a._v(" "),a.transaction.interestTax&&0<a.transaction.interestTax.length?n("div",{staticClass:"transactions-title"},[a._v(a._s(a.listTitle))]):a._e(),a._v(" "),a._l(a.transaction.interestTax,function(t){return t.txn!==a.type[0]?n("div",{staticClass:"item-container transaction"},[n("span",{staticClass:"transaction-name"},[a._v(a._s(t.data))]),a._v(" "),n("span",{staticClass:"transaction-money"},[a._v(a._s(t.currency)+" "+a._s(a._f("formatMoney")(t.money)))])]):a._e()}),a._v(" "),a.transaction.buy&&0<a.transaction.buy.length?n("div",{staticClass:"transactions-title"},[a._v(a._s(a.$t("tradeDetail.buy")))]):a._e(),a._v(" "),a._l(a.transaction.buy,function(t){return t.txn!==a.type[0]?n("div",{staticClass:"item-container transaction"},[n("span",{staticClass:"transaction-name"},[a._v(a._s(t.data))]),a._v(" "),n("span",{staticClass:"transaction-money"},[a._v(a._s(t.currency)+" "+a._s(a._f("formatMoney")(t.money)))])]):a._e()}),a._v(" "),a.transaction.sell&&0<a.transaction.sell.length?n("div",{staticClass:"transactions-title"},[a._v(a._s(a.$t("tradeDetail.sell")))]):a._e(),a._v(" "),a._l(a.transaction.sell,function(t){return t.txn!==a.type[0]?n("div",{staticClass:"item-container transaction"},[n("span",{staticClass:"transaction-name"},[a._v(a._s(t.data))]),a._v(" "),n("span",{staticClass:"transaction-money"},[a._v(a._s(t.currency)+" "+a._s(a._f("formatMoney")(t.money)))])]):a._e()})],2)])])],1)},[],!1,null,null,null));a.default=h.exports},weUh:function(t,a,n){"use strict";var s=n("yGMd");n.n(s).a},xAdR:function(t,a,n){},yGMd:function(t,a,n){}}]);